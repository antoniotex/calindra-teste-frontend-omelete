(this["webpackJsonpcalindra-teste-frontend-omelete"]=this["webpackJsonpcalindra-teste-frontend-omelete"]||[]).push([[0],{25:function(e,t,c){},26:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(18),i=c.n(r),o=(c(25),c(26),c(9)),u=c.n(o),l=c(7),d=c(19),j=c(5),p=c(3),m=c.n(p),b=Object(s.createContext)(),O=function(e){var t=e.children,c=Object(s.useState)({}),n=Object(j.a)(c,2),r=n[0],i=n[1],o=Object(s.useState)(!1),p=Object(j.a)(o,2),O=p[0],x=p[1];Object(s.useEffect)((function(){h()}),[]);var h=function(){var e=Object(d.a)(u.a.mark((function e(t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),e.prev=1,c=null,t){e.next=8;break}return e.next=6,m.a.all([m.a.get("/autocomplete/".concat("marvel")),m.a.get("/autocomplete/".concat("batman")),m.a.get("/autocomplete/".concat("caneca"))]).then(m.a.spread((function(e,t,a){c=[].concat(Object(l.a)(e.data.items),Object(l.a)(t.data.items),Object(l.a)(a.data.items))})));case 6:e.next=12;break;case 8:return e.next=10,m.a.get("/autocomplete/".concat(t));case 10:a=e.sent,c=a.data.items;case 12:i({items:c,query:t}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0.message);case 18:return e.prev=18,x(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,15,18,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(b.Provider,{value:{products:r,searchProducts:h,loading:O},children:t})},x=(c(45),function(e){var t=e.product,c=((t.map.defaultPrice-t.map.salePrice)/t.map.defaultPrice*100).toFixed(0);return Object(a.jsxs)("div",{className:"productCard",children:[c>0&&Object(a.jsxs)("span",{className:"productCard__discount",children:["-",c,"%"]}),Object(a.jsx)("img",{className:"productCard__image",src:"https://static-store.worldticket.com.br/".concat(t.map["images.url"][0]),title:t.map.name,alt:t.map.name}),Object(a.jsxs)("div",{className:"productCard__info",children:[Object(a.jsx)("span",{children:t.map.name}),Object(a.jsxs)("div",{className:"productCard__prices",children:[Object(a.jsxs)("span",{className:"productCard__prices--".concat(c>0?"discount":"default"),children:[" R$",parseFloat(t.map.defaultPrice).toFixed(2).toString().replace(".",",")," "]}),c>0&&Object(a.jsxs)("span",{className:"productCard__prices--default",children:["R$",parseFloat(t.map.salePrice).toFixed(2).toString().replace(".",",")]})]})]})]})}),h=(c(46),function(){var e=Object(s.useContext)(b),t=e.products,c=e.searchProducts;return Object(a.jsxs)("section",{className:"productList",children:[Object(a.jsx)("h1",{className:"productList__title",children:t.query?t.items.length>0?"Busca por '".concat(t.query,"'"):"N\xe3o encontramos nenhum produto em sua busca por '".concat(t.query,"'"):"P\xe1gina Inicial"}),t.query&&Object(a.jsx)("span",{className:"productList__back",onClick:function(){return c("")},children:"Voltar para P\xe1gina Inicial"}),Object(a.jsx)("div",{className:"productList__list",children:t.items&&t.items.map((function(e,t){return Object(a.jsx)(x,{product:e},t)}))})]})}),v=c.p+"static/media/logo-omelete.8db4c730.svg",f=(c(47),function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(s.useContext)(b).searchProducts;return Object(a.jsxs)("nav",{className:"header",children:[Object(a.jsx)("img",{src:v,className:"header__logo",alt:"Logo da Omelete Store.",title:"Logo da Omelete Store",onClick:function(){return r("")}}),Object(a.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),c?c.length<3?alert("A palavra-chave deve ter pelo menos 3 letras."):r(c):alert("Voc\xea esqueceu da palavra-chave.")},children:[Object(a.jsx)("input",{className:"search__query",placeholder:"Buscar produtos incr\xedveis",type:"text",name:"search",value:c,onChange:function(e){return n(e.target.value)}}),Object(a.jsx)("input",{className:"search__submit",type:"submit",value:"Buscar"})]})]})}),g=(c(48),function(){return Object(a.jsx)("div",{className:"loading",children:Object(a.jsx)("div",{className:"loadingio-spinner-bean-eater-xoupn6hthfj",children:Object(a.jsxs)("div",{className:"ldio-1dg8x8l4uq",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})]})})})}),_=function(){var e=Object(s.useContext)(b).loading;return Object(a.jsxs)("main",{children:[Object(a.jsx)(f,{}),e&&Object(a.jsx)(g,{}),!e&&Object(a.jsx)(h,{})]})},N=function(){return Object(a.jsx)(O,{children:Object(a.jsx)(_,{})})};i.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.33e252be.chunk.js.map