{"version":3,"sources":["contexts/productsContext.js","components/ProductCard/index.js","components/ProductList/index.js","assets/images/logo-omelete.svg","components/Header/index.js","components/Loading/index.js","pages/Main/index.js","App.js","index.js"],"names":["ProductsContext","createContext","ProductsProvider","children","useState","products","setProducts","loading","setLoading","useEffect","searchProducts","query","a","items","axios","all","get","then","spread","res1","res2","res3","data","result","console","log","message","Provider","value","ProductCard","product","discount","map","defaultPrice","salePrice","toFixed","className","src","title","name","alt","parseFloat","toString","replace","ProductList","useContext","length","onClick","item","index","Header","setQuery","logo","onSubmit","e","preventDefault","alert","placeholder","type","onChange","target","Loading","Main","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33e252be.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\nimport axios from 'axios'\n\nexport const ProductsContext = createContext()\n\nconst ProductsProvider = ({ children }) => {\n    const [ products, setProducts ] = useState({})\n    const [ loading, setLoading ] = useState(false)\n\n    useEffect(() => {\n        searchProducts()\n    }, []);\n\n    /**\n     * Função para buscar os produtos de acordo com a palavra-chave\n     * @param {*} query \n     */\n    const searchProducts = async (query) => {\n        setLoading(true)\n        try {\n            let items = null;\n\n            // Esta verificação é feita só para preencher os produtos na página inicial\n            if(!query){\n                await axios.all([\n                    axios.get(`/autocomplete/${'marvel'}`),\n                    axios.get(`/autocomplete/${'batman'}`),\n                    axios.get(`/autocomplete/${'caneca'}`)\n                ]).then(axios.spread((res1, res2, res3) => {\n                    items = [...res1.data.items, ...res2.data.items, ...res3.data.items]\n               }))\n            }else{\n                const result = await (await axios.get(`/autocomplete/${query}`))\n                items = result.data.items\n            }\n\n            setProducts({\n                items,\n                query\n            })\n            \n        } catch (error) {\n            console.log(error.message)\n        }\n        finally{\n            setLoading(false)\n        }\n    }\n\n    return (\n        <ProductsContext.Provider value={{ products, searchProducts, loading }}>\n            { children }\n        </ProductsContext.Provider>\n    )\n}\n\nexport default ProductsProvider","import React from 'react'\nimport './style.css'\n\nconst ProductCard = ({ product }) => {\n    const discount = ((product.map.defaultPrice - product.map.salePrice) / product.map.defaultPrice * 100).toFixed(0)\n    return (\n        <div className='productCard'>\n            {discount > 0 && <span className='productCard__discount'>-{ discount }%</span>}\n            <img className='productCard__image' src={`https://static-store.worldticket.com.br/${product.map[\"images.url\"][0]}`} title={product.map.name} alt={product.map.name} />\n            <div className='productCard__info'>\n                <span>{product.map.name}</span>\n                <div className='productCard__prices'>\n                    <span className={`productCard__prices--${discount > 0 ? 'discount' : 'default'}`} > R${parseFloat(product.map.defaultPrice).toFixed(2).toString().replace('.', ',')} </span>\n                    { discount > 0 && <span className='productCard__prices--default'>R${parseFloat(product.map.salePrice).toFixed(2).toString().replace('.', ',')}</span> }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ProductCard\n","import React, { useContext } from 'react'\nimport { ProductsContext } from '../../contexts/productsContext'\nimport ProductCard from '../ProductCard'\nimport './style.css'\n\nconst ProductList = () => {\n    const { products, searchProducts } = useContext(ProductsContext)\n    return (\n        <section className='productList'>\n            <h1 className='productList__title'>\n                { !products.query ? 'Página Inicial'\n                    : products.items.length > 0 ? `Busca por '${products.query}'`\n                    : `Não encontramos nenhum produto em sua busca por '${products.query}'`}\n            </h1>\n\n            {products.query && <span className='productList__back' onClick={() => searchProducts('')}>Voltar para Página Inicial</span>}\n\n            <div className='productList__list'>\n                {products.items && products.items.map((item, index) => (\n                    <ProductCard product={item} key={index} />\n                ))}\n            </div>\n        </section>\n    )\n}\n\nexport default ProductList\n","export default __webpack_public_path__ + \"static/media/logo-omelete.8db4c730.svg\";","import React, { useContext, useState } from 'react'\nimport { ProductsContext } from '../../contexts/productsContext'\nimport logo from '../../assets/images/logo-omelete.svg'\nimport './style.css'\n\nconst Header = () => {\n    const [query, setQuery] = useState('')\n\n    const { searchProducts } = useContext(ProductsContext)\n\n    function handleSubmit(e){\n        e.preventDefault()\n\n        if(!query){\n            alert('Você esqueceu da palavra-chave.')\n            return\n        }\n\n        if(query.length < 3){\n            alert('A palavra-chave deve ter pelo menos 3 letras.')\n            return\n        }\n\n        searchProducts(query)\n    }\n\n    return (\n        <nav className='header'>\n            <img src={logo} className='header__logo' alt='Logo da Omelete Store.' title='Logo da Omelete Store' onClick={() => searchProducts('')} />\n            <form className='search' onSubmit={handleSubmit}>\n                <input className='search__query' placeholder='Buscar produtos incríveis' type='text' name='search' value={query} onChange={e => setQuery(e.target.value)} />\n                <input className='search__submit' type='submit' value='Buscar' />\n            </form>\n        </nav>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport './style.css'\n\nconst Loading = () => {\n    return (\n        <div className='loading'>\n            <div className=\"loadingio-spinner-bean-eater-xoupn6hthfj\">\n                <div className=\"ldio-1dg8x8l4uq\">\n                    <div><div></div><div></div><div></div></div><div><div></div><div></div><div></div></div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loading\n","import React, { useContext } from 'react'\nimport ProductList from '../../components/ProductList'\nimport Header from '../../components/Header'\nimport Loading from '../../components/Loading'\nimport { ProductsContext } from '../../contexts/productsContext'\n\nconst Main = () => {\n    const { loading } = useContext(ProductsContext)\n\n    return (\n        <main>\n            <Header />\n            { loading && <Loading /> }\n            { !loading && <ProductList /> }\n        </main>\n    )\n}\n\nexport default Main\n","import './App.css'\nimport ProductsProvider from './contexts/productsContext';\nimport Main from './pages/Main';\n\nconst App = () => {\n  return (\n    <ProductsProvider>\n      <Main />\n    </ProductsProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}